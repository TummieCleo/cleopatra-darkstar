----------------------------------- 		
-- Dynamis-Bastok
----------------------------------- 

--  1: BST Vanguard Beasttender + Vanguard's Scorpion
--  2: WHM Vanguard Constable
--  3: PLD Vanguard Defender
--  4: DRG Vanguard Drakekeeper + Vanguard's Wyvern
--  5: SAM Vanguard Hatamoto
--  6: NIN Vanguard Kusa
--  7: RNG Vanguard Mason
--  8: MNK Vanguard Militant
--  9: BRD Vanguard Minstrel
-- 10: RDM Vanguard Protector
-- 11: THF Vanguard Purloiner
-- 12: BLM Vanguard Thaumaturge
-- 13: SMN Vanguard Undertaker + Vanguard's Avatar
-- 14: DRK Vanguard Vigilante
-- 15: WAR Vanguard Vindicator

-- [Position on the map] Adamantking mobid, {spawnlist: mob1, mob2,...}
bastyList = {--[[001]] 17539350,{6,12},		--[[002]] 17539351,{5,9},		--[[003]] 17539352,{10,15},		--[[004]] 17539353,{11,15},		--[[005]] 17539354,{4,9},
			 --[[006]] 17539355,{1,1},		--[[007]] 17539356,{1,1},		--[[008]] 17539357,{1,1},		--[[009]] 17539358,{5,9},		--[[010]] 17539359,{5,9},
			 --[[011]] 17539360,{6,12,15},	--[[012]] 17539361,{4,5,9},		--[[013]] 17539362,{2,6},		--[[014]] 17539363,{12,14},		--[[016]] 17539364,{10},
			 --[[018]] 17539367,{11},		--[[020]] 17539369,{14,6,12},	--[[021]] 17539370,{4,10},		--[[022]] 17539371,{12,5},		--[[023]] 17539372,{14,9},
			 --[[024]] 17539373,{7,8},		--[[025]] 17539374,{2,15,17539118},--[[027]] 17539375,{10,11},	--[[028]] 17539376,{6,3,5,15,12,9,17539119,17539120,17539161},
			 --[[032]] 17539377,{6,14,2},	--[[033]] 17539378,{11,15},		--[[034]] 17539379,{2,5},		--[[035]] 17539380,{3,8,9},		--[[036]] 17539381,{3,8,10},
			 --[[037]] 17539382,{3,6,10},	--[[039]] 17539383,{1,1,1},		--[[040]] 17539384,{13},		--[[042]] 17539387,{1,1,1},		--[[043]] 17539388,{5,12},
			 --[[044]] 17539389,{11,15,14},	--[[045]] 17539390,{15,8,10},	--[[046]] 17539391,{15,5,10},	--[[047]] 17539392,{14,8,10},	--[[048]] 17539393,{3,11,10},
			 --[[049]] 17539394,{6},		--[[050]] 17539395,{15,9},		--[[051]] 17539396,{4,6,10},	--[[052]] 17539397,{14,5,9},	--[[053]] 17539398,{2,17539162,17539188},
			 --[[055]] 17539399,{2,17539143},--[[056]] 17539400,{13},		--[[057]] 17539401,{13},		--[[058]] 17539402,{15,8,2},	--[[059]] 17539403,{15,11},
			 --[[060]] 17539404,{14,8,2},	--[[061]] 17539405,{3,8,2},		--[[062]] 17539406,{2},			--[[063]] 17539407,{14,8,2},	--[[064]] 17539408,{3,14,1},
			 --[[065]] 17539409,{14,8,9},	--[[066]] 17539410,{15,11,10},	--[[068]] 17539412,{3,5,12},	--[[069]] 17539413,{2,17539190},--[[070]] 17539414,{7,7},
			 --[[071]] 17539415,{7},		--[[072]] 17539416,{4,11},		--[[073]] 17539417,{14,5},		--[[075]] 17539419,{3,6},		--[[076]] 17539420,{15,9},
			 --[[077]] 17539421,{4,12},		--[[078]] 17539422,{3,8,12},	--[[079]] 17539423,{14,8,12},	--[[082]] 17539426,{6},			--[[083]] 17539427,{3,6},
			 --[[086]] 17539430,{15,6},		--[[087]] 17539431,{14,5,9},	--[[088]] 17539432,{8,8,14,17539163,12,7,7},--[[089]] 17539163,{17539300,17539301,17539304}, --[[090]] 17539433,{3,2},
			 --[[091]] 17539434,{2,17539147},--[[093]] 17539435,{4,11,2},	--[[095]] 17539437,{3,11},		--[[096]] 17539438,{6,10},		--[[097]] 17539439,{11,12},
			 --[[098]] 17539440,{6,9},		--[[099]] 17539441,{14,9},		--[[100]] 17539442,{3,10},		--[[101]] 17539443,{4,5},		--[[102]] 17539444,{11},
			 --[[105]] 17539447,{5,10},		--[[106]] 17539448,{6,12},		--[[107]] 17539449,{4,8},		--[[108]] 17539450,{4,10},		--[[109]] 17539451,{3,12}
			 };
----[[011]] 00000000,{},--[[012]] 00000000,{},--[[013]] 00000000,{},--[[014]] 00000000,{},--[[015]] 00000000,{},
-- Need to add :
-- 39/42 random nm spawn with 3 BST

----------------------------------- 		
-- Dynamis-San d'Oria
----------------------------------- 

--  1: WAR Vanguard Footsoldier
--  2: MNK Vanguard Grappler
--  3: WHM Vanguard Amputator
--  4: BLM Vanguard Mesmerizer
--  5: RDM Vanguard Vexer
--  6: THF Vanguard Pillager
--  7: PLD Vanguard Trooper
--  8: DRK Vanguard Neckchopper
--  9: BST Vanguard Hawker + Vanguard's Hecteyes
-- 10: BRD Vanguard Bugler
-- 11: RNG Vanguard Predator
-- 12: SAM Vanguard Gutslasher
-- 13: NIN Vanguard Backstabber
-- 14: DRG Vanguard Impaler + Vanguard's Wyvern
-- 15: SMN Vanguard Dollmaster + Vanguard's Avatar

-- [Position on the map] Adamantking mobid, {spawnlist: mob1, mob2,...}
sandyList = {--[[001]] 17535250,{1,1},			--[[002]] 17535251,{2},				--[[003]] 17535252,{2},			--[[004]] 17535253,{5},
			 --[[005]] 17535254,{5},			--[[006]] 17535255,{2,2,2},			--[[008]] 17535257,{7,8},		--[[009]] 17535258,{1,1},
			 --[[010]] 17535259,{5,5},			--[[011]] 17535260,{14,14},			--[[012]] 17535261,{3,3},		--[[013]] 17535262,{6,6},
			 --[[014]] 17535263,{13,13},		--[[015]] 17535264,{12,12},			--[[017]] 17535266,{2,4,4},		--[[018]] 17535267,{17535026},
			 --[[019]] 17535026,{9,4,4},		--[[020]] 17535268,{17535057},		--[[021]] 17535057,{7,11,11},	--[[022]] 17535269,{6},
			 --[[023]] 17535270,{3,4},			--[[024]] 17535271,{6},				--[[025]] 17535272,{6,10},		--[[026]] 17535273,{6,10},
			 --[[027]] 17535274,{6,10},			--[[029]] 17535276,{11,11},			--[[030]] 17535277,{3,3},		--[[032]] 17535279,{8,8,17535032},
			 --[[036]] 17535003,{6,6,10},		--[[037]] 17535283,{12,12},			--[[038]] 17535284,{9,9},		--[[039]] 17535285,{11,11},
			 --[[040]] 17535286,{13,13},		--[[041]] 17535287,{15,15},			--[[042]] 17535288,{15,15},		--[[043]] 17535289,{15,15},
			 --[[044]] 17535290,{15,15},		--[[045]] 17535291,{11,11},			--[[046]] 17535292,{13,13},		--[[047]] 17535293,{9,9},
			 --[[048]] 17535294,{12,12},		--[[049]] 17535295,{2,1},			--[[050]] 17535296,{3},			--[[051]] 17535297,{7,1,1},
			 --[[052]] 17535298,{11,11},		--[[053]] 17535299,{2,1},			--[[054]] 17535300,{3},			--[[055]] 17535301,{3},
			 --[[056]] 17535302,{6,6},			--[[057]] 17535303,{3},				--[[058]] 17535304,{7,7},		--[[061]] 17535004,{2,2,10},
			 --[[063]] 17535308,{8,8},			--[[064]] 17535309,{14,14},			--[[065]] 17535310,{9,9},		--[[069]] 17535314,{5,5},
			 --[[070]] 17535315,{2,2,17535006},	--[[071]] 17535316,{4,4},			--[[073]] 17535318,{12,12},		--[[074]] 17535319,{12,13},
			 --[[075]] 17535320,{13,13},		--[[076]] 17535321,{3,3,11,11,11},	--[[077]] 17535322,{8,8},		--[[078]] 17535323,{4,4},
			 --[[079]] 17535324,{3,3},			--[[080]] 17535325,{5,5},			--[[081]] 17535326,{9,9},		--[[082]] 17535327,{9},
			 --[[083]] 17535328,{9,9},			--[[085]] 17535331,{9,9},			--[[087]] 17535332,{5,5,4,4},	--[[088]] 17535333,{7,7},
			 --[[089]] 17535334,{11,11,11},		--[[090]] 17535335,{8,8},			--[[091]] 17535336,{5,1,1},		--[[092]] 17535337,{10,10},
			 --[[093]] 17535338,{17535044,17535005,17535113},						--[[094]] 17535005,{13,13},		--[[095]] 17535113,{13,13},--[[096]] 17535339,{14,14},
			 --[[097]] 17535340,{11,11},		--[[098]] 17535341,{14,14},			--[[099]] 17535342,{17535114,17535115},--[[100]] 17535114,{10},
			 --[[101]] 17535115,{10},			--[[102]] 17535343,{14,14,1,1},		--[[104]] 17535345,{7,7},		--[[105]] 17535346,{8,8,5,5},
			 --[[106]] 17535347,{1,1,7,7},		--[[107]] 17535348,{13,13},			--[[108]] 17535349,{12,12},		--[[110]] 17535350,{15,15,15},
			 --[[111]] 17535355,{14,14,14},		--[[116]] 17535356,{8,8,8,4,4},		--[[117]] 17535357,{9,9,9},		--[[118]] 17535358,{12,12,5,5,10,10},
			 --[[119]] 17535359,{7,7,7,6,6},	--[[120]] 17535360,{14,14,14},		--[[121]] 17535361,{1,1,3,3},	--[[122]] 17535362,{2,2,2,3,3},
			 --[[123]] 17535363,{15,15,10,10},	--[[124]] 17535364,{14,14,14},		--[[125]] 17535365,{15,15},		--[[126]] 17535366,{13,13,13,13},
			 --[[127]] 17535367,{12,12,12},		--[[128]] 17535368,{11,11,11},		--[[129]] 17535369,{10,10,10},	--[[130]] 17535370,{6,6,6,10,10},
			 --[[131]] 17535371,{12,12,5,5,4,4},--[[132]] 17535372,{6,6,6},			--[[133]] 17535373,{9,9,9},		--[[134]] 17535374,{8,8,8},
			 --[[135]] 17535375,{7,7,7},		--[[136]] 17535376,{5,5,5},			--[[137]] 17535377,{3,3,3},		--[[138]] 17535378,{2,2,2},
			 --[[139]] 17535379,{1,1,1},		--[[140]] 17535380,{4,4,4},			--[[141]] 17535381,{12},		--[[142]] 17535382,{12},
			 --[[143]] 17535383,{2},			--[[144]] 17535384,{2},				--[[145]] 17535385,{8,8,8},		--[[146]] 17535386,{7,7,7},
			 --[[147]] 17535387,{15,15,17535390},--[[149]] 17535389,{15,15,17535388}};

--------------------------------------------------		
-- getListDynaMob
-- List of mobid by zone and job
--------------------------------------------------

function getListDynaMob(player,thismob)
	
	local mobList = 0;
	local pZone = player:getZone();
	
	if(pZone == 185) then
		switch (thismob) : caseof {
		 [1] = function (x) mobList = {17534980,17535000,17535012,17535016,17535034,17535058,17535085,17535098}; end, 
		 [2] = function (x) mobList = {17534986,17535001,17535017,17535035,17535059,17535079,17535091}; end, 
		 [3] = function (x) mobList = {17534982,17535009,17535018,17535045,17535060,17535086,17535099}; end, 
		 [4] = function (x) mobList = {17534985,17534988,17535046,17535051,17535061,17535080}; end, 
		 [5] = function (x) mobList = {17534983,17534998,17535024,17535047,17535055,17535062}; end, 
		 [6] = function (x) mobList = {17534984,17535021,17535036,17535054,17535063,17535081}; end, 
		 [7] = function (x) mobList = {17534981,17535008,17535019,17535025,17535037,17535056,17535064,17535084}; end, 
		 [8] = function (x) mobList = {17534987,17535020,17535038,17535053,17535065,17535087}; end, 
		 [9] = function (x) mobList = {17534994,17535028,17535066,17535076,17535094}; end, 
		[10] = function (x) mobList = {17534989,17535022,17535027,17535048,17535052,17535068,17535078,17535088,17535100}; end, 
		[11] = function (x) mobList = {17534999,17535002,17535023,17535039,17535069,17535089,17535093,17535101}; end, 
		[12] = function (x) mobList = {17534990,17535030,17535040,17535070,17535082,17535092}; end, 
		[13] = function (x) mobList = {17534993,17535013,17535031,17535041,17535071,17535083,17535090,17535102}; end, 
		[14] = function (x) mobList = {17534991,17535014,17535042,17535072,17535096}; end, 
		[15] = function (x) mobList = {17534996,17535010,17535049,17535074}; end, 
		}
	elseif(pZone == 186) then
		switch (thismob) : caseof {
		 [1] = function (x) mobList = {17539076,17539110,17539177,17539197,17539213,17539237,17539247,17539284}; end, 
		 [2] = function (x) mobList = {17539084,17539101,17539125,17539182,17539187,17539193,17539243,17539245,17539268,17539269,17539304}; end, 
		 [3] = function (x) mobList = {17539082,17539103,17539104,17539103,17539127,17539176,17539184,17539189,17539196,17539226,17539233,17539256,17539278}; end, 
		 [4] = function (x) mobList = {17539088,17539105,17539112,17539164,17539199,17539239,17539249,17539291}; end, 
		 [5] = function (x) mobList = {17539086,17539096,17539150,17539152,17539204,17539207,17539218,17539219,17539230,17539281,17539288,17539295}; end, 
		 [6] = function (x) mobList = {17539087,17539097,17539151,17539156,17539208,17539220,17539221,17539231,17539282,17539289}; end, 
		 [7] = function (x) mobList = {17539095,17539117,17539132,17539155,17539160,17539170}; end, 
		 [8] = function (x) mobList = {17539075,17539091,17539108,17539115,17539130,17539135}; end, 
		 [9] = function (x) mobList = {17539094,17539109,17539122,17539128,17539203,17539205}; end, 
		[10] = function (x) mobList = {17539079,17539100,17539124,17539180,17539181,17539186}; end, 
		[11] = function (x) mobList = {17539080,17539107,17539131,17539134,17539145,17539146}; end, 
		[12] = function (x) mobList = {17539078,17539085,17539102,17539123,17539137,17539139,17539141,17539168,17539179,17539185,17539194,17539246,17539251,17539270,17539271,17539280,17539298}; end, 
		[13] = function (x) mobList = {17539098,17539166,17539209,17539211,17539222,17539272}; end, 
		[14] = function (x) mobList = {17539081,17539092,17539093,17539116,17539126,17539136}; end, 
		[15] = function (x) mobList = {17539074,17539083,17539090,17539114,17539129,17539133}; end, 
		}
	end
	
	
	
	return mobList;

end;

--------------------------------------------------		
-- alreadyReceived
-- I use this function for TE and Boss Trigger 		
--------------------------------------------------
 
function alreadyReceived(player,number)
	
	local dynaVar = 0;
	local bit = {}; 
	local pZone = player:getZone();
	
	if(pZone == 185) then
		dynaVar = GetServerVariable("[DynaSandoria]Already_Received");
	elseif(pZone == 186) then
		dynaVar = GetServerVariable("[DynaBastok]Already_Received");
	end

	for i = 10,0,-1 do 		
		twop = 2^i; 		
		if(dynaVar >= twop) then 		
			bit[i+1] = 1; 		
			dynaVar = dynaVar - twop; 		
		else 		
			bit[i+1] = 0; 		
		end; 		
	end; 		
	printf("received %u",bit[number]); 		
	if(bit[number] == 0) then 		
		return false; 		
	else 		
		return true; 		
	end 		
end;

--------------------------------------------------
-- addDynamisList
-- Add this mob to already received list
--------------------------------------------------

function addDynamisList(player,number)
	
	local pZone = player:getZone();
	
	if(pZone == 185) then
		SetServerVariable("[DynaSandoria]Already_Received",GetServerVariable("[DynaSandoria]Already_Received") + number);
	elseif(pZone == 186) then
		SetServerVariable("[DynaBastok]Already_Received",GetServerVariable("[DynaBastok]Already_Received") + number);
	end
	
end;